*** Settings ***
Documentation     NOTE:
...               add note here
Suite Setup       Suite Setup
Force Tags        CREATE_TABLESPACE    win11    unix11    unix10
Default Tags      ALL    SMOKE_TEST
Test Template     Create Tablespace Template
Resource          ../../resources/keywords.txt

*** Test Cases ***    NAME           FAIL_IF_EXISTS    TYPE         SMALL_FILE    LOGGING    FORCE_LOGGING    ONLINE    MGMT_CLAUSE    MGMT_TYPE    MGMT_AUTOALLOC    MGMT_UNIFORM    SPC_AUTO    RETENTION    PERM DATA FILE                                      TEMP DATA FILE                                      UNDO DATA FILE                                      RETURN CODE    RETURN STATUS
Create TS Permanent Force Logging
                      tablespace4    NO                Permanent    DEFAULT       DEFAULT    DEFAULT          YES       Omit           Local        YES               NO              YES         NO           '${DB_FILE_PATH}${/}test_xyz_126.dat' size 10M      ${EMPTY}                                            ${EMPTY}                                            0              ${ENDED_OK}

Create TS Permanent Online Omit
                      tbs3           YES               Permanent    DEFAULT       DEFAULT    DEFAULT          YES       Omit           Local        YES               NO              YES         NO           '${DB_FILE_PATH}${/}test_datafile3.dbs' size 10M    ${EMPTY}                                            ${EMPTY}                                            0              ${ENDED_OK}

Create TS Temporary MGMT Local
                      tbs4           NO                Temporary    BIGFILE       NO         NO               YES       Omit           Local        YES               NO              YES         NO           ${EMPTY}                                            '${DB_FILE_PATH}${/}test_datafile4.dbs' size 10M    ${EMPTY}                                            0              ${ENDED_OK}

Create TS Temporary MGMT Uniform
                      tbs5           YES               Temporary    BIGFILE       NO         NO               NO        Omit           Local        YES               NO              YES         NO           ${EMPTY}                                            '${DB_FILE_PATH}${/}test_datafile5.dbs' size 10m    ${EMPTY}                                            0              ${ENDED_OK}

Create TS Undo Omit
                      tbs6           NO                Undo         DEFAULT       DEFAULT    DEFAULT          YES       Omit           Local        YES               NO              YES         NO           ${EMPTY}                                            ${EMPTY}                                            '${DB_FILE_PATH}${/}test_datafile6.dbs' size 10m    0              ${ENDED_OK}

Create TS Undo Generate
                      tbs8           YES               Undo         SMALLFILE     YES        YES              YES       Generate       Local        NO                NO              NO          YES          ${EMPTY}                                            ${EMPTY}                                            '${DB_FILE_PATH}${/}test_datafile8.dbs' size 10m    0              ${ENDED_OK}

*** Keywords ***
Create Tablespace Template
    [Arguments]    ${name}    ${fail_if_exists}    ${type}    ${small_file}    ${logging}    ${force_logging}
    ...    ${online}    ${mgmt_clause}    ${mgmt_type}    ${mgmt_autoalloc}    ${mgmt_uniform}    ${spc_auto}
    ...    ${retention}    ${perm_datafile}    ${temp_datafile}    ${undo_datafile}    ${returnCode}    ${returnStatus}
    Drop Tablespace    ${name}
    Init Action    ${ACTION_CREATE_TABLESPACE}
    Oracle Common Setting
    Action Set    ${PRT_CREATE_TABLESPACE_DB_TABLESPACE_NAME}    ${name}
    Action Set    ${PRT_CREATE_TABLESPACE_DB_FAIL_IF_TS_EXISTS}    ${fail_if_exists}
    Action Set    ${PRT_CREATE_TABLESPACE_DB_TABLESPACE_TYPE}    ${type}
    Action Set    ${PRT_CREATE_TABLESPACE_DB_SMALLFILE}    ${small_file}
    Action Set    ${PRT_CREATE_TABLESPACE_DB_LOGGING}    ${logging}
    Action Set    ${PRT_CREATE_TABLESPACE_DB_FORCE_LOGGING}    ${force_logging}
    Action Set    ${PRT_CREATE_TABLESPACE_DB_ONLINE}    ${online}
    Action Set    ${PRT_CREATE_TABLESPACE_DB_EXT_MGMT_CLAUSE}    ${mgmt_clause}
    Action Set    ${PRT_CREATE_TABLESPACE_DB_EXT_MGMT_TYPE}    ${mgmt_type}
    Action Set    ${PRT_CREATE_TABLESPACE_DB_EXT_MGMT_AUTOALLOC}    ${mgmt_autoalloc}
    Action Set    ${PRT_CREATE_TABLESPACE_DB_EXT_MGMT_UNIFORM}    ${mgmt_uniform}
    Action Set    ${PRT_CREATE_TABLESPACE_DB_SEGM_SPC_AUTO}    ${spc_auto}
    Action Set    ${PRT_CREATE_TABLESPACE_DB_RETENTION}    ${retention}
    Action Set    ${PRT_CREATE_TABLESPACE_DB_PERM_DATAFILE_SPEC}    ${perm_datafile}
    Action Set    ${PRT_CREATE_TABLESPACE_DB_TEMPFILE_SPEC}    ${temp_datafile}
    Action Set    ${PRT_CREATE_TABLESPACE_DB_UNDO_DATAFILE_SPEC}    ${undo_datafile}
    Action Set    ${PRT_CREATE_TABLESPACE_DB_MIN_EXT_SIZE}    ${EMPTY}
    Action Set    ${PRT_CREATE_TABLESPACE_DB_BLOCK_SIZE}    ${EMPTY}
    Action Set    ${PRT_CREATE_TABLESPACE_DB_TS_GROUP_NAME}    ${EMPTY}
    Action Set    ${PRT_CREATE_TABLESPACE_DB_EXT_UNFRM_MGMT_SIZE}    ${EMPTY}
    Action Set    ${PRT_CREATE_TABLESPACE_DB_DFLT_STRG_CLAUSE}    ${EMPTY}
    Action Execute
    Action Report Should Be Found
    Action Return Code Should Be    ${returnCode}
    Action Return Status Should Be    ${returnStatus}
    [Teardown]    Drop Tablespace    ${name}
